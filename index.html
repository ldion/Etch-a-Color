<!DOCTYPE HTML>
<html>
<head>
	<title>Etch-a-Color</title>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js" type="text/javascript"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script> 
	<link rel="stylesheet" type="text/css" href="css/main.css">
</head>
<body>
	<div id="here">+</div>
	<div id="draw"></div>
<script type="text/javascript">
$(document).ready(function() {
var time = new Date();
var color = 'black';

$(document).keydown(function(e){
    var now= new Date();
    if(now.getTime() > time.getTime() + 400) {
        time = now;
    if(e.keyCode == 40){
        if($("#here").position().top <= 280){
        $("#here").animate({top: "+=10"});
        var line = $('<div class="line">');
        line.css('top', $("#here").position().top);
        line.css('left', $("#here").position().left);
        line.css('width', '1px');
        line.css('height', '10px');
        line.css('border', '1px solid '+color);
        line.css('background', color);
        $("#draw").append(line);
        }
    }
    if(e.keyCode == 39){
        if($("#here").position().left <= 280){
        $("#here").animate({left: "+=10"});
        var line = $('<div class="line">');
        line.css('top', $("#here").position().top);
        line.css('left', $("#here").position().left);
        line.css('width', '10px');
        line.css('height', '1px');
        line.css('border', '1px solid '+color);
        line.css('background', color);
        $("#draw").append(line);
        }
    }
    if(e.keyCode == 38){
        if($("#here").position().top >= 20){
        $("#here").animate({top: "-=10"});
        var line = $('<div class="line">');
        line.css('top', $("#here").position().top-10);
        line.css('left', $("#here").position().left);
        line.css('width', '1px');
        line.css('height', '10px');
        line.css('border', '1px solid '+color);
        line.css('background', color);
        $("#draw").append(line);
        }
    }
    if(e.keyCode == 37){
        if($("#here").position().left >= 20){
        $("#here").animate({left: "-=10"});
        var line = $('<div class="line">');
        line.css('top', $("#here").position().top);
        line.css('left', $("#here").position().left-10);
        line.css('width', '10px');
        line.css('height', '1px');
        line.css('border', '1px solid '+color);
        line.css('background', color);
        $("#draw").append(line);
        }
    }
    if(e.keyCode == 68) {
            $('.line').effect("shake");
            $('.line').fadeOut(1000, function(){
                $('.line').remove();
            });
        }
    }
    if(e.keyCode == 49) {
        color = 'black';
    }
    if(e.keyCode == 50) {
        color = 'red';
    }
    if(e.keyCode == 51) {
        color = 'orange';
    }
    if(e.keyCode == 52) {
        color = 'yellow';
    }
    if(e.keyCode == 53) {
        color = 'green';
    }
    if(e.keyCode == 54) {
        color = 'blue';
    }
    if(e.keyCode == 55) {
        color = 'purple';
    }
    if(e.keyCode == 56) {
        color = 'white';
    }
});
});
</script>
</body>
</html>
